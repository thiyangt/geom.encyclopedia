--- 
title: "Data Visualisation `geom` Encyclopedia"
author: "Thiyanga S. Talagala"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography: [book.bib, packages.bib]
# url: your book url like https://bookdown.org/yihui/bookdown
# cover-image: path to the social sharing image like images/cover.jpg
description: |
  Collection of geom for data visualisation.
link-citations: yes
github-repo: thiyangt/geom.encyclopedia
output:
  pdf_document:
    citation_package: natbib
  bookdown::pdf_book:
    citation_package: biblatex
  toc: yes #if you want to get the table of contents
  fig_caption: true
---

# url: your book url like https://bookdown.org/yihui/bookdown

Placeholder


## Usage 
## Render book
## Preview book

<!--chapter:end:index.Rmd-->

# Hello bookdown 

All chapters start with a first-level heading followed by your chapter title, like the line above. There should be only one first-level heading (`#`) per .Rmd file.

## A section

All chapter sections start with a second-level (`##`) or higher heading followed by your section title, like the sections above and below here. You can have as many as you want within a chapter.

### An unnumbered section {-}

Chapters and sections are numbered by default. To un-number a heading, add a `{.unnumbered}` or the shorter `{-}` at the end of the heading, like in this section.

<!--chapter:end:01-intro.Rmd-->

# Graph types {#cross}



## Chapters and sub-chapters


<!--chapter:end:02-cross-refs.Rmd-->


# R Packages

Placeholder


## Data processing
## Graph arrangement 
## Data packages
### Cross sectional data
### Time series data
## Large cross sectional dataset
### Glimpse of the large dataset
## Small cross sectional dataset
### Glimpse of the small cross sectional dataset
## Time series dataset
## Packages related to geom
## geom Extensions
## All available geom_... in the ggplot2 package

<!--chapter:end:03-parts.Rmd-->


# A: geom_a...

Placeholder


## geom_abline{#abline}
## geom_area{#area}

<!--chapter:end:04-a.Rmd-->

# B: geom_b...

## geom_bar

**Package: ** ggplot2 [@R-ggplot2]

**Description: ** Draw a bar proportional to the specified number. For example, number of cases or user defined number.

**Statistics layer(s): ** 

  `stat_count` - This the default statistics layer. It counts number of cases in each group. 
  
  `stat_identify` - It plots the data as it is.

**See also: ** [geom_col](#col)

### With count 

```{r, fig.cap="Illustration of geom_bar to create a bar chart"}
ggplot(elephants, aes(y = Age_Category)) + 
  geom_bar()

```

```{r, fig.cap="Illustration of geom_bar to create a stacked bar chart"}
ggplot(elephants, aes(y = Age_Category, fill=Category)) + 
  geom_bar()
```

```{r, fig.cap="Illustration of geom_bar to create a cluster bar chart"}
ggplot(elephants, aes(y=Age_Category, fill = Category)) +
  geom_bar(position = "dodge")
```

```{r, fig.cap="Illustration of geom_bar to create a cluster bar chart"}
ggplot(elephants, aes(y=Age_Category, fill = Category)) +
  geom_bar(position = "dodge")
```

### With identity

```{r}
dfbar <- data.frame(class=c("A", "B"),  income = c(100, 200))
ggplot(dfbar, aes(class, income)) +
  geom_bar(stat="identity")
```

## geom_bin_2d

**Package: ** ggplot2 [@R-ggplot2]

**Description: ** Divides the Cartesian plane created by x-variable and y-variable into rectangles (2D histogram), counts the number of observations in each rectangle. Only the observations with rectangles are filled according to the number ofobservations.

**Understandable aesthetics: ** x, y, fill, group

**Statistics layer(s): ** 


**See also: ** [geom_bin2d](#bin2d), [geom_point](#point)

```{r, fig.cap="Illustration of using geom_bin_2d"}
ggplot(elephants.subset.100, aes(y = Height, x=Fore_Feet_Circumference)) +
  geom_bin_2d() + 
  theme(aspect.ratio = 1)
```

```{r, fig.cap="Illustration of changing bins in geom_bin_2d"}
ggplot(elephants.subset.100, aes(y = Height, x=Fore_Feet_Circumference)) +
  geom_bin_2d(bins=20) + 
  theme(aspect.ratio = 1)
```

## geom_bin2d_pattern

**Package: ** ggpattern [@R-ggpattern]

**Description: ** Divides the Cartesian plane created by x-variable and y-variable into rectangles (2D-Histogram), counts the number of observations in each rectangle. Only the observations with rectangles are filled with a pattern.

**Understandable aesthetics: ** 

pattern_fill (pattern_* - for mapping variables under aesthetics), pattern (to set a patten, for example pattern='stripe'), fill, colour

**Statistics layer(s): ** 


**See also: ** [geom_bin2d](#bin2d), [geom_point](#point)

```{r, fig.cap="Illustration of using geom_bin_2d"}
ggplot(elephants.subset.100, aes(y = Height, x=Fore_Feet_Circumference)) +
  ggpattern::geom_bin2d_pattern(bins=5) + 
  theme(aspect.ratio = 1)
```

## geom_bin2d


**Package: ** ggplot2 [@R-ggplot2]

**Description: ** Divides the Cartesian plane created by x-variable and y-variable into rectangles, counts the number of observations in each rectangle. Only the observations with rectangles are filled according to the number ofobservations.

**Understandable aesthetics: ** x, y, fill, group

**Statistics layer(s): ** 


**See also: ** [geom_bin_2d](#bin_2d), [geom_point](#point)

**Example:**

```{r, fig.cap="Illustration of using geom_bin_2d"}
ggplot(elephants.subset.100, aes(y = Height, x=Fore_Feet_Circumference)) +
  geom_bin2d() + 
  theme(aspect.ratio = 1)
```


## geom_blank

**Package: ** ggplot2 [@R-ggplot2]

**Description: ** Draws nothing.

## geom_boxplot


**Package: ** ggplot2 [@R-ggplot2]

**Description: ** Draw a bar proportional to the specified number. For example, number of cases or user defined number.

**Statistics layer(s): ** 

  `stat_boxplot` - This the default statistics layer. This computes minimum, maximum, median, first quartile ($Q1$), third quartile ($Q3$), upper whisker extends up to $Q3 + 1.5 \times IQR$ and lower whisker extends up to $Q1 - 1.5 \times IQR$, where $IQR = Q3 - Q1$. In a notched box plot, it creates 95\% confidence interval for mean.
  

**See also: ** [geom_col](#col)

```{r, fig.cap="Illustration of using geom_boxplot"}
ggplot(elephants, aes(y = Weight)) + 
  geom_boxplot()
```

```{r, fig.cap="Illustration of using geom_boxplot with changing outliers and adding a notch to create notched box plot."}
ggplot(elephants, aes(y = Weight)) + 
geom_boxplot(outlier.colour="black", outlier.shape=16,
             outlier.size=2, notch=TRUE)

```





<!--chapter:end:05-b.Rmd-->

# C: geom_c...

## geom_col

Before using `geom_col`, you need to create a summary table of counts or you can apply `geom_col` for a summary table already given.

```{r, echo=FALSE}
elephants_counts <- elephants |> 
  group_by(Age_Category) |> 
  summarise(n = n())
elephants_counts
```



```{r, echo=FALSE}
ggplot(elephants_counts, aes(x = Age_Category, y=n)) + 
  geom_col()
```


<!--chapter:end:06-c.Rmd-->


# D: geom_d...

Placeholder


## geom_delaunay_tile
## geom_density
## geom_density_2d
## geom_density_2d_filled
## geom_density_ridges
## geom_dl

<!--chapter:end:07-d.Rmd-->

# E: geom_e...


## geom_encircle


Other related geoms: geom_mark_circle

```{r, echo=FALSE}
library(ggalt)
ggplot(elephants, aes(y = Height, x=Weight, col=Category)) + 
 geom_encircle(aes(fill =Category), s_shape=0.2, expand=0.01 , alpha=0.4) 
```

`geom_encircle` with `geom_point`

```{r, echo=FALSE}
library(ggalt)
ggplot(elephants, aes(y = Height, x=Weight, col=Category)) + 
  geom_point() + geom_encircle(aes(fill =Category), s_shape=0.2, expand=0.01 , alpha=0.4) 
```

<!--chapter:end:08-e.Rmd-->

# F: geom_f...

## geom_function

```{r}
ggplot() + xlim(c(-1,1)) + geom_function(fun=cos, colour="red",lwd=1, linetype=1)

```


<!--chapter:end:09-f.Rmd-->

# A: geom_axxxxx

<!--chapter:end:10-g.Rmd-->


# H: geom_h...

Placeholder


## geom_histogram{#histogram}
## geom_hline{#hline}

<!--chapter:end:11-h.Rmd-->

# A: geom_axxxxx

<!--chapter:end:12-i.Rmd-->

# A: geom_axxxxx

<!--chapter:end:13-j.Rmd-->

# A: geom_axxxxx

<!--chapter:end:14-k.Rmd-->

# L: geom_l...

## geom_label_repel

```{r}
ggplot(elephants.subset.100, aes(y = Height, x=Weight)) +
  geom_point() +
  ggrepel::geom_label_repel(aes(y = Height, x=Weight, 
                                label = rownames(elephants.subset.100)),
                                fontface = 'bold', color = 'red',
                                box.padding = unit(0.40, "lines"),
                                point.padding = unit(0.6, "lines"),
                                segment.color = 'grey50'
  )
```


## geom_lm


```{r, echo=FALSE}
ggplot(elephants, aes(y = Height, x=Weight)) + 
  geom_lm()
```

<!--chapter:end:15-l.Rmd-->

# M: geom_m...


## geom_mark_circle

```{r, echo=FALSE}
library(ggforce)
ggplot(elephants, aes(y = Height, x=Weight)) +
  geom_mark_circle(aes(fill = Category, label = Category),
                   con.cap = 0) 
```

With geom_point

```{r, echo=FALSE}
library(ggforce)
ggplot(elephants, aes(y = Height, x=Weight)) +
  geom_mark_circle(aes(fill = Category, label = Category),
                   con.cap = 0) +
  geom_point()
```

<!--chapter:end:16-m.Rmd-->

# A: geom_axxxxx

<!--chapter:end:17-n.Rmd-->

# A: geom_axxxxx

<!--chapter:end:18-o.Rmd-->

# P: geom_p...

## geom_point{#point}

```{r, echo=FALSE}
ggplot(elephants, aes(y = Height, x=Weight)) + 
  geom_point()
```

<!--chapter:end:19-p.Rmd-->

# A: geom_axxxxx

<!--chapter:end:20-q.Rmd-->


# R: geom_r...

Placeholder


## geom_ribbon

<!--chapter:end:21-r.Rmd-->


# S: geom_s...

Placeholder


## geom_segment
## geom_signif
## geom_smooth{#smooth}

<!--chapter:end:22-s.Rmd-->

# A: geom_axxxxx

<!--chapter:end:23-t.Rmd-->

# A: geom_axxxxx

<!--chapter:end:24-u.Rmd-->


# V: geom_v...

Placeholder


## geom_vline{#vline}
## geom_violin

<!--chapter:end:25-v.Rmd-->

# A: geom_axxxxx

<!--chapter:end:26-w.Rmd-->

# A: geom_axxxxx

<!--chapter:end:27-x.Rmd-->

# A: geom_axxxxx

<!--chapter:end:28-y.Rmd-->

# A: geom_axxxxx

<!--chapter:end:29-z.Rmd-->

# Others

## ggpairs

With all variables

```{r, echo=TRUE, warning=FALSE, message=FALSE}
GGally::ggpairs(elephants)
```

With only numeric variables

```{r, echo=TRUE, warning=FALSE, message=FALSE}
elephants.numeric <- elephants |> select_if(is.numeric)     
GGally::ggpairs(elephants.numeric)
```

Colour the points according to category

```{r, echo=TRUE, warning=FALSE, message=FALSE}
elephants.numeric <- elephants |> select_if(is.numeric) 
elephants.numeric$Category <- elephants$Category
GGally::ggpairs(elephants.numeric, aes(col=Category))
```


<!--chapter:end:30-others.Rmd-->

`r if (knitr::is_html_output()) '
# References {-}
'`

<!--chapter:end:31-references.Rmd-->

