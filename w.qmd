# W {#sec-w}

```{r, message=FALSE, warning=FALSE,echo=FALSE}
library(tidyverse)
library(drone)
library(patchwork)
data("worldbankdata")
```


## geom_waffle{#waffle}

**Package**

```{r}
#install.packages("remotes")
#remotes::install_github("hrbrmstr/waffle")

```

waffle [@waffle]

**Description**

Create waffle plots. A waffle chart can be used as an alternative to pie charts or bar charts to display the composition of a sample. It divides the plotting area into a grid of small squares, making proportions easier to compare and count at a glance.

**Understandable aesthetics**

*required aesthetics*
  
`fill` (so the geom knows which column to map the fills to)

`values` (which column you're mapping the filling for the squares with)

*optional aesthetics*
  
  `alpha`, `colour`, `group`, `linetype`, `linewidth`


**See also**

[geom_bar](#bar), [geom_col](#col)
  


**Example** 

```{r}
#| fig-width: 10
#| fig-height: 10
library(waffle)
worldbankdata |>
  filter(Region == "East Asia & Pacific" | Region == "Europe & Central Asia") |>
  select(Region, Income, Year) |>
  group_by(Region, Income) |>
  tally() |>
  ggplot(aes(fill=Income, values=n)) +
  geom_waffle(aes(colour = income),color="white",
              n_rows = 4, size = 0.3, make_proportional = TRUE,
              height = 0.9, width = 0.9) +
  scale_fill_manual(values = c("#d95f02","#1b9e77","#7570b3","#e7298a"))+
  facet_wrap(~Region, ncol=1) +
  scale_x_discrete(expand=c(0,0)) +
  scale_y_discrete(expand=c(0,0)) +
  coord_equal()+
  theme(legend.position = "bottom")
```

## geom_weave{#weave}

**Package**

ggdist[@ggdist]

**Description**

Creates dot-weave plot. This ensures the plot fits within the available space.

**Understandable aesthetics**

*required aesthetics*
  
`x`

`y`

*optional aesthetics*
  
  `alpha`, `colour`, `group`, `size`, `slab_alpha`


**See also**

[geom_dotinterval](#dotinterval), [geom_point](#point),
[geom_jitter](#jitter)
  
**Example**

```{r}
library(ggdist)
p1 <- worldbankdata |>
  ggplot(aes(y = Electricity, x = Income)) +
  geom_weave(color="black") + ggtitle("Without  scale_y_binned")
p2 <- worldbankdata |>
  ggplot(aes(y = Electricity, x = Income)) +
  geom_weave(color="black") + 
  scale_y_binned(n.breaks = 10) + ggtitle("With scale_y_binned")
p1|p2
```

<!--## geom_widerect{#widerect}

**Package**

animint2 [@animint2]

**Description**

**Understandable aesthetics**

*required aesthetics*
  
  `x`

`y`

*optional aesthetics*
  
  `alpha`, `colour`, `group`, `linetype`, `linewidth`


**See also**

[geom_line](#line), [geom_ribbon](#ribbon)
  
**Example**

```{r}
library(animint2)
library(ggplot2)
library(drone)
library(tidyverse)

data("worldbankdata")
worldbankdata |>
  filter(Country == "Bangladesh") |> 
  filter(Year >= 2011 & Year <= 2021) |>
  ggplot(aes(x=Year, y=Electricity)) + 
  geom_point(colour="blue",size=4,fill="black") +
  theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1)) + 
  scale_x_continuous(breaks = 2011:2021)+
  geom_widerect(aes(ymin=Electricity-1/2, ymax=Electricity+1/2),
                        clickSelects="Electricity",
                         alpha=1/2)
```
-->

##